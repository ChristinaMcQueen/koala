{"version":3,"sources":["../../../server/controllers/pubSub.js"],"names":["makePubSub","callbacks","publish","args","ev","shift","list","forEach","item","apply","subscribe","callback","push"],"mappings":";;;;;AAAA,IAAMA,aAAa,SAAbA,UAAa,GAAY;AAC3B,QAAMC,YAAY,EAAlB;AACA,QAAMC,UAAU,SAAVA,OAAU,GAAmB;AAAA;;AAAA,0CAANC,IAAM;AAANA,gBAAM;AAAA;;AAC/B,YAAMC,KAAKD,KAAKE,KAAL,EAAX;AACA,YAAI,CAACJ,UAAUG,EAAV,CAAL,EAAoB;AAChB,mBAAO,IAAP;AACH;AACD,YAAME,OAAOL,UAAUG,EAAV,CAAb;AACAE,aAAKC,OAAL,CAAa,UAACC,IAAD,EAAU;AACnBA,iBAAKC,KAAL,QAAiBN,IAAjB;AACH,SAFD;AAGA,eAAO,IAAP;AACH,KAVD;AAWA,QAAMO,YAAY,SAAZA,SAAY,CAAUN,EAAV,EAAcO,QAAd,EAAwB;AACtC,YAAI,CAACV,UAAUG,EAAV,CAAL,EAAoB;AAChBH,sBAAUG,EAAV,IAAgB,EAAhB;AACH;AACDH,kBAAUG,EAAV,EAAcQ,IAAd,CAAmBD,QAAnB;AACA,eAAO,IAAP;AACH,KAND;AAOA,WAAO,EAAET,gBAAF,EAAWQ,oBAAX,EAAP;AACH,CArBD;kBAsBeV,U","file":"pubSub.js","sourcesContent":["const makePubSub = function () {\n    const callbacks = {};\n    const publish = function (...args) {\n        const ev = args.shift();\n        if (!callbacks[ev]) {\n            return this;\n        }\n        const list = callbacks[ev];\n        list.forEach((item) => {\n            item.apply(this, args);\n        });\n        return this;\n    };\n    const subscribe = function (ev, callback) {\n        if (!callbacks[ev]) {\n            callbacks[ev] = [];\n        }\n        callbacks[ev].push(callback);\n        return this;\n    };\n    return { publish, subscribe };\n};\nexport default makePubSub;\n"]}